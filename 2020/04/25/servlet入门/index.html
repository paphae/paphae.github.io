<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>servlet入门 | 拥有武侠梦的猫</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="servlet,tomcat," />
  

  <meta name="description" content="C&#x2F;S、B&#x2F;S与RIA说起网络应用，可以分为C&#x2F;S和B&#x2F;S两种；C&#x2F;S结构是Client&#x2F;Server（客户机&#x2F;服务器）的简称，桌面应用程序采用的多是这种结构；B&#x2F;S结构是Browser&#x2F;Server（浏览器&#x2F;服务器）的简称，特点是客户端无需安装特定的软件，只需要安装一个浏览器就可以与系统进行交互。">
<meta property="og:type" content="article">
<meta property="og:title" content="servlet入门">
<meta property="og:url" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="拥有武侠梦的猫">
<meta property="og:description" content="C&#x2F;S、B&#x2F;S与RIA说起网络应用，可以分为C&#x2F;S和B&#x2F;S两种；C&#x2F;S结构是Client&#x2F;Server（客户机&#x2F;服务器）的简称，桌面应用程序采用的多是这种结构；B&#x2F;S结构是Browser&#x2F;Server（浏览器&#x2F;服务器）的简称，特点是客户端无需安装特定的软件，只需要安装一个浏览器就可以与系统进行交互。">
<meta property="og:locale">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/1.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/2.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/3.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/4.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/5.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/6.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/1.jpg">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/2.jpg">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/3.jpg">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/4.jpg">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/7.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/8.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/9.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%871.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%872.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%873.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%874.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%875.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%876.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%877.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%878.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%879.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8710.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8711.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8712.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8713.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8714.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8715.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8716.png">
<meta property="og:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8717.png">
<meta property="article:published_time" content="2020-04-25T14:27:52.000Z">
<meta property="article:modified_time" content="2020-05-14T03:52:41.528Z">
<meta property="article:author" content="Paphae">
<meta property="article:tag" content="servlet">
<meta property="article:tag" content="tomcat">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://paphae.top/2020/04/25/servlet%E5%85%A5%E9%97%A8/servlet%E5%85%A5%E9%97%A8/1.png">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  

  

  

  


  

<meta name="generator" content="Hexo 5.3.0"></head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">盒子</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#C-S%E3%80%81B-S%E4%B8%8ERIA"><span class="toc-text">C&#x2F;S、B&#x2F;S与RIA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E7%AB%99%E7%82%B9%E3%80%81Web%E5%BA%94%E7%94%A8%E3%80%81HTTP%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%81Web%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">Web站点、Web应用、HTTP服务器、Web应用服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tomcat%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85"><span class="toc-text">Tomcat介绍及安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#servlet%E7%89%88%E6%9C%AC%E4%B8%8Etomcat%E7%89%88%E6%9C%AC%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-text">servlet版本与tomcat版本对应关系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet%E7%9A%84%E6%A6%82%E5%BF%B5%E5%8F%8A%E5%8A%9F%E8%83%BD"><span class="toc-text">Servlet的概念及功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet%E7%BA%BF%E7%A8%8B%E7%89%B9%E6%80%A7"><span class="toc-text">Servlet线程特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E6%8E%A5%E5%8F%A3"><span class="toc-text">请求和响应接口</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-servlet入门" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">servlet入门</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2020.04.25</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Paphae</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/javaWeb/">javaWeb</a>
  </span>



      

      
      
    </div>
  </header>

  <div class="article-content">
    
      <h2 id="C-S、B-S与RIA"><a href="#C-S、B-S与RIA" class="headerlink" title="C/S、B/S与RIA"></a>C/S、B/S与RIA</h2><p>说起网络应用，可以分为C/S和B/S两种；<br>C/S结构是Client/Server（客户机/服务器）的简称，桌面应用程序采用的多是这种结构；<br>B/S结构是Browser/Server（浏览器/服务器）的简称，特点是客户端无需安装特定的软件，只需要安装一个浏览器就可以与系统进行交互。</p>
<a id="more"></a>
<p>C/S需要安装客户端软件，但是操作往往更为便捷；B/S不需要安装客户端软件，但是用户体验往往不如C/S好，安全性也较C/S要低；<br>RIA是“Rich Internet Applications”的缩写，意为“富客户端网络应用”；<br>RIA的主要目标：基于B/S结构，只要有浏览器就可以使用，在浏览器里实现与客户端软件类似的体验；例如：可以局部刷新、可以拖拽等；<br><img src="servlet%E5%85%A5%E9%97%A8/1.png"></p>
<h2 id="Web站点、Web应用、HTTP服务器、Web应用服务器"><a href="#Web站点、Web应用、HTTP服务器、Web应用服务器" class="headerlink" title="Web站点、Web应用、HTTP服务器、Web应用服务器"></a>Web站点、Web应用、HTTP服务器、Web应用服务器</h2><p>Web站点即Web Site，也被称为Web网站；比如某公司用来作为宣传使用的官方网站，就是Web站点；<br>Web应用被称为Web Application，简单来说，就是通过浏览器访问的应用程序，从而为用户提供相关的服务，例如查询、购物、生成报表等；<br>HTTP服务器：也称为Web服务器，主要功能是提供网上信息浏览服务，例如Apache、Nginx、IIS是比较常用的HTTP服务器；使用浏览器访问Web站点或者Web应用，则必须通过HTTP服务器；<br>Web应用服务器：Web应用服务器能够运行服务器上的应用程序，并将结果返回给客户端浏览器；例如，Tomcat就是一种Web应用服务器；通常情况下，Web应用服务器兼具HTTP服务器的部分功能；<br><img src="servlet%E5%85%A5%E9%97%A8/2.png"></p>
<h2 id="Tomcat介绍及安装"><a href="#Tomcat介绍及安装" class="headerlink" title="Tomcat介绍及安装"></a>Tomcat介绍及安装</h2><p>我们的学习目标是使用Servlet和JSP开发Web应用，Servlet和JSP是JavaEE中的Web组件，Web组件都需要运行在Web应用服务器上；<br>本课程选用Apache软件基金会的Tomcat做为应用服务器，也称为Servlet容器（Container）；<br>Tomcat开源、免费，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试Servlet/JSP程序的首选；<br><img src="servlet%E5%85%A5%E9%97%A8/3.png"><br>bin目录   用于存放 Tomcat的启动、停止等批处理脚本和Shell脚本<br>conf目录   用于存放 Tomcat的相关配置文件<br>lib目录    Tomcat服务器依赖库目录，包含 Tomcat服务器运行环境依赖jar包<br>logs      Tomcat默认的日志存放路径<br>temp目录   存放tomcat在运行过程中产生的临时文件<br>webapps目录  Tomcat默认的Web应用部署目录<br>work 存放Web应用JSP代码生成和编译后产生的class文件目录</p>
<p>解压缩后，就可以启动Tomcat；<br>设置java_home环境变量，将路径指定到JDK的安装目录下；<br>在cmd窗口，转到Tomcat安装目录的bin目录，运行startup<br><img src="servlet%E5%85%A5%E9%97%A8/4.png"></p>
<p>启动成功后，可以通过浏览器访问Tomcat<br>输入 <a target="_blank" rel="noopener" href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a> 其中127.0.0.1指的<br>是访问本机，8080是Tomcat默认端口；<br>访问到如下页面，说明Tomcat安装启动成功<br><img src="servlet%E5%85%A5%E9%97%A8/5.png"></p>
<p>本课程选择使用Tomcat作为Servlet运行的环境，也就是Servlet容器；<br>除了Tomcat外，还有其他容器可以使用；<br>JBoss支持JavaEE标准，能够作为JavaEE应用服务器使用，Servlet容器只是其中一部分；<br>Resin是CAUCHO公司的产品，是一个非常流行的Servlet容器，性能也比较优良；<br>GlassFish支持JavaEE标准，是开源的、免费的，能够作为JavaEE应用服务器使用，Servlet容器只是其中一部分；</p>
<h3 id="servlet版本与tomcat版本对应关系"><a href="#servlet版本与tomcat版本对应关系" class="headerlink" title="servlet版本与tomcat版本对应关系"></a>servlet版本与tomcat版本对应关系</h3><p><em>Apache</em>官方对各版本的解释：<a target="_blank" rel="noopener" href="http://tomcat.apache.org/whichversion.html">http://tomcat.apache.org/whichversion.html</a></p>
<table>
<thead>
<tr>
<th align="left"><strong>Servlet Spec</strong></th>
<th align="left"><strong>JSP Spec</strong></th>
<th align="left"><strong>EL Spec</strong></th>
<th align="left"><strong>WebSocket Spec</strong></th>
<th align="left"><strong>Authentication (JASIC) Spec</strong></th>
<th align="left"><strong>Apache Tomcat Version</strong></th>
<th align="left"><strong>Latest Released Version</strong></th>
<th align="left"><strong>Supported Java Versions</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">5.0</td>
<td align="left">3.0</td>
<td align="left">4.0</td>
<td align="left">2.0</td>
<td align="left">2.0</td>
<td align="left">10.0.x</td>
<td align="left">10.0.0-M5 (alpha)</td>
<td align="left">8 and later</td>
</tr>
<tr>
<td align="left">4.0</td>
<td align="left">2.3</td>
<td align="left">3.0</td>
<td align="left">1.1</td>
<td align="left">1.1</td>
<td align="left">9.0.x</td>
<td align="left">9.0.35</td>
<td align="left">8 and later</td>
</tr>
<tr>
<td align="left">3.1</td>
<td align="left">2.3</td>
<td align="left">3.0</td>
<td align="left">1.1</td>
<td align="left">1.1</td>
<td align="left">8.5.x</td>
<td align="left">8.5.55</td>
<td align="left">7 and later</td>
</tr>
<tr>
<td align="left">3.1</td>
<td align="left">2.3</td>
<td align="left">3.0</td>
<td align="left">1.1</td>
<td align="left">N/A</td>
<td align="left">8.0.x (superseded)</td>
<td align="left">8.0.53 (superseded)</td>
<td align="left">7 and later</td>
</tr>
<tr>
<td align="left">3.0</td>
<td align="left">2.2</td>
<td align="left">2.2</td>
<td align="left">1.1</td>
<td align="left">N/A</td>
<td align="left">7.0.x</td>
<td align="left">7.0.103</td>
<td align="left">6 and later (7 and later for WebSocket)</td>
</tr>
<tr>
<td align="left">2.5</td>
<td align="left">2.1</td>
<td align="left">2.1</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">6.0.x (archived)</td>
<td align="left">6.0.53 (archived)</td>
<td align="left">5 and later</td>
</tr>
<tr>
<td align="left">2.4</td>
<td align="left">2.0</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">5.5.x (archived)</td>
<td align="left">5.5.36 (archived)</td>
<td align="left">1.4 and later</td>
</tr>
<tr>
<td align="left">2.3</td>
<td align="left">1.2</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">4.1.x (archived)</td>
<td align="left">4.1.40 (archived)</td>
<td align="left">1.3 and later</td>
</tr>
<tr>
<td align="left">2.2</td>
<td align="left">1.1</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">3.3.x (archived)</td>
<td align="left">3.3.2 (archived)</td>
<td align="left">1.1 and later</td>
</tr>
</tbody></table>
<h2 id="Servlet的概念及功能"><a href="#Servlet的概念及功能" class="headerlink" title="Servlet的概念及功能"></a>Servlet的概念及功能</h2><p>Servlet是JavaEE规范中的Web开发组件；<br>Servlet运行在服务器端，需要Servlet容器的支持，例如Tomcat；<br>可以通过浏览器访问Servlet，Servlet可以生成动态页面返回给浏览器；<br>Servlet也是一段代码，是一个Java类，这个Java类需要遵守一定的编写规范，例如，必须继承于javax.servlet.http.HttpServlet类；<br><img src="servlet%E5%85%A5%E9%97%A8/6.png"></p>
<blockquote>
<blockquote>
<p>web项目</p>
</blockquote>
</blockquote>
<p>1.结构<br>    i.src   写类文件的地方。<br>    ii.web  jsp(动态页面) html(静态页面) css(样式文件) js(js文件) image(静态资源)<br>2.WEB-INF<br>    a)web.xml web项目的核心配置文件。<br>        i.welcome-file-list 当我们直接访问项目名称时，项目会根据该标签的列表进行访问。如果列表中有多个时，按照顺序寻找找一个就访问该页面，后面的不再寻找。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>hello.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>3.项目如何发布<br>    a)创建一个html页面。<br>    b)配置tomcat<br><img src="servlet%E5%85%A5%E9%97%A8/1.jpg"><br>            i.Application server 选项 web应用服务器<br>            ii.默认访问浏览器<br>            iii.url 起始访问量<a target="_blank" rel="noopener" href="http://localhost:8080/webdemo_war_exploded/">http://localhost:8080/webdemo_war_exploded/</a><br>    1.localhost 本机<br>    2.tomcat的默认端口号<br>    3.webdemo_war_exploded 服务器上项目的名称</p>
<pre><code>iv.Deployment  + Aitfacts  把项目加载web服务器
1.Application context 你的项目布置到服务器上的项目名称。
启动成功
</code></pre>
<p><img src="servlet%E5%85%A5%E9%97%A8/2.jpg"></p>
<pre><code>4.Idea的tomcat重启。
</code></pre>
<p><img src="servlet%E5%85%A5%E9%97%A8/3.jpg"></p>
<pre><code>    a）Update resource  更新配置文件
    b）Update classes and resource  跟新类文件和配置文件
    c）Redeploy 重新布置
    d）Restart server重启服务器
5.servlet
    a)它一个类
    b)继承httpservlet（javax.servlet.http.HttpServlet）
</code></pre>
<p><img src="servlet%E5%85%A5%E9%97%A8/4.jpg"></p>
<pre><code>    c)实现方法
        i.Init 初始化
        1.执行时间(当服务器启动后，第一次访问的时候，会条用init方法进行初始化)
            a)如果我们想服务器启动时就想让调用init方法进行初始化呢？
        `&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;`

        ii.Service方法（处理用户的请求）
1.Response(响应)
    a)可以向浏览器打印数据
代码：
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;=================service=================&quot;</span>);</span><br><span class="line">	PrintWriter out = response.getWriter();</span><br><span class="line">	out.println(<span class="string">&quot;&lt;h1&gt;hello word&lt;/h1&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>
<pre><code>b)输出中文
    i.乱码解决方案
代码：
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置响应的内容类型</span></span><br><span class="line">response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;=================service=================&quot;</span>);</span><br><span class="line">PrintWriter out = response.getWriter();</span><br><span class="line">out.println(<span class="string">&quot;&lt;h1&gt;你好,世界&lt;/h1&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>
<pre><code>    iii.Destroy 销毁方法。（当服务器关闭或重启的时候启动）
代码：
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tjetc.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">	<span class="comment">//无参初始化方法</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;=================init=================&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//service 方法</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;=================service=================&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="comment">//销毁方法</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;=================destroy=================&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>    d)给servlet设置web访问地址。
        i.Xml配置方式(web.xml)
</code></pre>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">	<span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--注册servlet的名称--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>first<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--servlet的类文件地址--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.tjetc.servlet.FirstServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">		  <span class="comment">&lt;!--注释的快捷键  ctrl + /        --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 要给配置访问地址的servlet注册名称--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>first<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--     访问地址 注意：要以斜杠开始--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/first.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<pre><code>    ii.注解
4. servlet的生命周期
    1，有参init方法
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.config = config;</span><br><span class="line">		<span class="keyword">this</span>.init();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<pre><code>    1.如果有参和无参init方法同时存在我们调用有参init，然后再由有参init方法调用无参init方法。
2.service
        代码：
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		String method = req.getMethod();</span><br><span class="line">		<span class="keyword">long</span> lastModified;</span><br><span class="line">		<span class="keyword">if</span> (method.equals(<span class="string">&quot;GET&quot;</span>)) &#123;</span><br><span class="line">			lastModified = <span class="keyword">this</span>.getLastModified(req);</span><br><span class="line">			<span class="keyword">if</span> (lastModified == -<span class="number">1L</span>) &#123;</span><br><span class="line">				<span class="keyword">this</span>.doGet(req, resp);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">long</span> ifModifiedSince;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					ifModifiedSince = req.getDateHeader(<span class="string">&quot;If-Modified-Since&quot;</span>);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IllegalArgumentException var9) &#123;</span><br><span class="line">					ifModifiedSince = -<span class="number">1L</span>;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span> (ifModifiedSince &lt; lastModified / <span class="number">1000L</span> * <span class="number">1000L</span>) &#123;</span><br><span class="line">					<span class="keyword">this</span>.maybeSetLastModified(resp, lastModified);</span><br><span class="line">					<span class="keyword">this</span>.doGet(req, resp);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					resp.setStatus(<span class="number">304</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;HEAD&quot;</span>)) &#123;</span><br><span class="line">			lastModified = <span class="keyword">this</span>.getLastModified(req);</span><br><span class="line">			<span class="keyword">this</span>.maybeSetLastModified(resp, lastModified);</span><br><span class="line">			<span class="keyword">this</span>.doHead(req, resp);</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;POST&quot;</span>)) &#123;</span><br><span class="line">			<span class="keyword">this</span>.doPost(req, resp);</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;PUT&quot;</span>)) &#123;</span><br><span class="line">			<span class="keyword">this</span>.doPut(req, resp);</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;DELETE&quot;</span>)) &#123;</span><br><span class="line">			<span class="keyword">this</span>.doDelete(req, resp);</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;OPTIONS&quot;</span>)) &#123;</span><br><span class="line">			<span class="keyword">this</span>.doOptions(req, resp);</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;TRACE&quot;</span>)) &#123;</span><br><span class="line">			<span class="keyword">this</span>.doTrace(req, resp);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			String errMsg = lStrings.getString(<span class="string">&quot;http.method_not_implemented&quot;</span>);</span><br><span class="line">			Object[] errArgs = <span class="keyword">new</span> Object[]&#123;method&#125;;</span><br><span class="line">			errMsg = MessageFormat.format(errMsg, errArgs);</span><br><span class="line">			resp.sendError(<span class="number">501</span>, errMsg);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<pre><code>2.service方法接到请求后，根据请求的方式调用doget，或者dopost方法。
3.destory是在服务器重启或停止的时候执行。



生命周期的三条结论：
    0.tomcat要调用无参构造方法创建servlet对象
    1.如果有参和无参init方法同时存在我们调用有参init，然后再由有参init方法调用无参init方法。
    2.service方法接到请求后，根据请求的方式调用doget，或者dopost方法。
    3.destory是在服务器重启或停止的时候执行。

最终代码：
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tjetc.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span>  <span class="title">FirstServlet</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;无参构造方法被调用&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//无参初始化方法</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;=================无参init=================&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;=================有参init=================&quot;</span>);</span><br><span class="line">		<span class="keyword">super</span>.init(config);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//service 方法</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		<span class="comment">// 设置响应的内容类型</span></span><br><span class="line">		System.out.println(<span class="string">&quot;=================service=================&quot;</span>);</span><br><span class="line">		<span class="keyword">super</span>.service(request,response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;=================doget=================&quot;</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="comment">//销毁方法</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;=================destroy=================&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Servlet线程特性"><a href="#Servlet线程特性" class="headerlink" title="Servlet线程特性"></a>Servlet线程特性</h2><p>Servlet是运行在服务器端的组件，能够给客户端返回动态页面；<br>多个客户端同时请求访问一个Servlet时，Web应用服务器将为每个客户端的连接启动一个线程来服务。<br>第一次访问Servlet时，服务器将创建一个该Servlet类的对象，并调用doXXX方法生成响应；多个客户端访问同一个Servlet时，不再创建新的对象，而是共用同一个Servlet对象。可以说，Servlet是多线程单实例的。<br>验证：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecondServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SecondServlet</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-Second无参构造-&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;---Second-init----&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;---service---&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第一次访问SecondServlet，结果为：<br>-Second无参构造-<br>—Second-init—-<br>—service—<br>打开新的浏览器窗口，访问SecondServlet，结果为：<br>—service—<br>不管再有多少个新的浏览器窗口访问TestThreadServlet，结果都是：<br>—service—</p>
<h2 id="请求和响应接口"><a href="#请求和响应接口" class="headerlink" title="请求和响应接口"></a>请求和响应接口</h2><p>通过浏览器提交给服务器端的所有数据，都称为请求数据<br>通过服务器返回给客户端的所有数据，都称为响应数据。<br>Servlet类使用doXXX方法提供服务，这些方法继承于HttpServlet类；<br>查看API，可见doXXX方法都有两个参数，分别是请求和响应：<br><img src="servlet%E5%85%A5%E9%97%A8/7.png"><br>也就是说：服务器会创建请求对象和响应对象传递给doXXX方法，doXXX方法中可以直接使用请求和响应对象；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;请求对象：&quot;</span>+request);</span><br><span class="line">        System.out.println(<span class="string">&quot;响应对象：&quot;</span>+response);</span><br><span class="line">        System.out.println(<span class="string">&quot;你的IP地址是：&quot;</span>+request.getRemoteAddr());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="servlet%E5%85%A5%E9%97%A8/8.png"><br><img src="servlet%E5%85%A5%E9%97%A8/9.png"></p>
<p>Servlet中获取请求参数的方法</p>
<p>request.getParameter(“username”);根据表单中标签的name值获得value的值。<br>request.getParameterValues(“hibit”);获得name相同的一组。<br>如果多个文本框name一直的话会和多选框一样是勾选（文本框填入数值的）的传过来吗？<br>注意：如果是文本框不管有没有值都会获得过来，在多选框的时候才会只获得你选中的文本框。<br>request.getParameterMap();获得form中所有的值。<br>返回类型Map<br>i.Key   name  唯一   String<br>ii.Value  value  多个value  String[]<br>request.getParameterNames();获得form中所有name值。<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%871.png"><br>request.getContextPath()获得服务器项目的名称路径<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%872.png"><br>request.getQueryString()获得get请求的参数及参数的值。<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%873.png"><br>request.getMethod()获得请求的类型<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%874.png"><br>request.getRequestURI()获得请求地址<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%875.png"><br>request.getRequestURL()获得完整请求地址<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%876.png"><br>request.getHeader(“请求头信息的参数名称”)<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%877.png"></p>
<p>1.referer 之前的地址。<br>2.content-length 内容长度<br>3.Content-type  内容类型<br>4.Date   日期<br>5.User-Agent 用户代理。<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%878.png"><br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%879.png"><br>乱码问题<br>Post<br>reuest.setCharacterEncoding(“utf-8”);<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8710.png"><br>get<br>String user name=new String(request.getParameter(“username”).getBytes(“iso-8859-1”),”utf-8”);<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8711.png"><br>Iso-8859-1是未来jsp得默认编码（支持英文的编码）<br>缺点：当你没有获得值得时候，有可能会报空指针异常。<br>Tomcat的server.xml配置 URIEncoding=“utf-8”<br>不推荐<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8712.png"><br>响应乱码：response输出的乱码<br>response.setContentType(“text/html;charset=utf-8”);<br>response.setCharacterEncoding(“gbk”);</p>
<p>Servlet加载启动选项<br>Load-on-startup:让servlet可以在服务器启动的时候进行实例化初始化。<br>参数 优先级 越小越优先<br>a)最高优先级  0<br>b)猜测，你不说越小越优先吗？负数比0还小。<br>i.如果load-on-start-up的值为负数的话，该servlet不会在服务器启动的时候被实例化，并初始化。<br>Servlet的注解配置初体验。<br>c)在servlet类上使用webservlet进行注解（“访问地址“）<br>d)注解配置和servlet配置是不能共存的(命名为相同的路径)。<br>e)Servlet的多访问路径配置<br>f)Xml配置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>second<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.tjetc.servlet.SecondServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>second<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/third.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/second.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8713.png"><br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8714.png"><br>注解<br>@WebServlet(urlPatterns = {“/second.do”,”/third.do”})<br>//默认loadOnStartup=-1<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8715.png"><br>注意：如果路径是全拼一定要在开头加以/。<br>注解和xml是否可以共存？可以，但是不能有一样值。<br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8716.png"><br><img src="servlet%E5%85%A5%E9%97%A8/%E5%9B%BE%E7%89%8717.png"></p>

    
  </div>

</article>


   

   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2020/04/22/Js%E4%B8%ADfor...in%E5%92%8Cfor...of%E7%9A%84%E5%8C%BA%E5%88%AB/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2020/04/27/maven%E5%B7%A5%E5%85%B7/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
